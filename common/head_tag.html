<script type="text/discourse-plugin" version="0.4">
const { iconNode } = require("discourse-common/lib/icon-library");

api.decorateWidget("header-icons:before", helper => {
  var hlt = settings.Header_links;
  return hlt.split("|").map(i => {
    const seg = $.map(i.split(","), $.trim);

    return helper.h("li." + seg[3], [
      helper.h(
        "a.icon.btn-flat",
        {
          href: seg[2],
          title: seg[0],
          target: "_" + seg[4]
        },
        iconNode(seg[1].toLowerCase())
      )
    ]);
  });
});
</script>
